# unittest UIè‡ªåŠ¨åŒ–æµ‹è¯•

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°

* POæ¨¡å¼ç¼–å†™
* å¯¹webdriverå¸¸ç”¨æ–¹æ³•äºŒæ¬¡å°è£…, å¹¶å¢åŠ æ—¥å¿—è®°å½•
* æµ‹è¯•å®Œæˆå, è‡ªåŠ¨å‘é€é‚®ä»¶
* æ”¯æŒchrome, Edge, Firefox, IEæµè§ˆå™¨
* æ•°æ®åº“ mysql çº¿ç¨‹æ± 
* ä½¿ç”¨ excel, yaml æ”¶çº³å®šä½å…ƒç´ 
* å°è£… unittest è¿è¡Œ
* beautifulreport / HtmlTestrunner æµ‹è¯•æŠ¥å‘Š

## ğŸŒ´ é¡¹ç›®ç»“æ„ä»‹ç»

```
automated_ui
    |
    â”œâ”€ po
    â”‚   â”‚
    â”‚   â”œâ”€ common
    â”‚   â”‚    | base_page        å°è£…å¸¸ç”¨çš„å…ƒç´ å®šä½æ–¹æ³•
    â”‚   â”‚    â”‚ do_excel.py      excelæ–‡ä»¶è¯»å–
    â”‚   |    | do_yaml.py       yamlæ–‡ä»¶è¯»å†™
    â”‚   â”‚    â”‚ driver.py        å°è£…å®ä¾‹åŒ–æ‰€æœ‰æµè§ˆå™¨é©±åŠ¨
    â”‚   â”‚    â”‚ log.py           ç”Ÿæˆè®°å½•æ—¥å¿—
    â”‚   â”‚    â”‚ send_mail.py     å‘é€é‚®ä»¶
    â”‚   â”‚    â”‚ myunit.py        å°è£…å•å…ƒæµ‹è¯•ä¾èµ–
    â”‚   â”‚    â”‚ test_report.py   å°è£…æµ‹è¯•æŠ¥å‘Šæ–¹æ³•
    â”‚   â”‚
    â”‚   â”œâ”€ core
    â”‚   â”‚    â”œâ”€ config.yaml     é…ç½®æ–‡ä»¶
    |   |    â”œâ”€ get_conf.py     è¯»å–é…ç½®
    â”‚   â”‚    â””â”€ path_conf.py    ç›¸å…³è·¯å¾„é…ç½®
    â”‚   â”‚
    â”‚   â”œâ”€ data                 
    â”‚   â”‚   â””â”€test_data         
    â”‚   |        â”œâ”€ *.yaml      å­˜æ”¾æµ‹è¯•å…ƒç´ æ•°æ®
    â”‚   â”‚        â””â”€ *.xlsx      å­˜æ”¾æµ‹è¯•å…ƒç´ æ•°æ®
    â”‚   â”‚ 
    â”‚   â”œâ”€ packages              
    â”‚   |    | TestRunner       æµ‹è¯•æŠ¥å‘Š(HTML)
    â”‚   | 
    â”‚   â”œâ”€ report               
    â”‚   â”‚    â”œâ”€ image           æˆªå›¾å­˜æ”¾ç›®å½•
    â”‚   |    |    â”œâ”€ fail       å¤±è´¥æˆªå›¾
    â”‚   |    |    â””â”€ pass       æˆåŠŸæˆªå›¾
    â”‚   â”‚    â”œâ”€ log             æ—¥å¿—
    â”‚   â”‚    â””â”€ test_report     æµ‹è¯•æŠ¥å‘Š
    â”‚   â”‚
    â”‚   â”œâ”€ testcase             
    â”‚   â”‚    â””â”€ *               æµ‹è¯•é¡¹ç›®ç›®å½•
    â”‚   â”‚       â”œâ”€ *_page       æµ‹è¯•ç”¨ä¾‹ç±»æ¶‰åŠçš„å…ƒç´ æˆ–é€šç”¨æ“ä½œå°è£…
    â”‚   |       â””â”€ test_*.py    æµ‹è¯•ç”¨ä¾‹
    â”‚   |
    â”‚   â”œâ”€ utils                 
    â”‚   |    â””â”€ send_email.py   é‚®ä»¶å‘é€
    â”‚   |
    â”‚   â”œâ”€ run_all.py           è¿è¡Œå…¨éƒ¨ç”¨ä¾‹
    â”‚   â”œâ”€ run_class.py         è¿è¡Œå•ä¸ªç±»æ–‡ä»¶æ‰€æœ‰ç”¨ä¾‹
    â”‚   â”œâ”€ run_function.py      è¿è¡Œå•ä¸ªæ–¹æ³•ç”¨ä¾‹
    |
    â””â”€ requirements.txt         ä¾èµ–åŒ…
```

## ğŸ‘¨â€ğŸ’» ç¯å¢ƒå‡†å¤‡

~~æ‰‹åŠ¨å®‰è£…æµè§ˆå™¨é©±åŠ¨~~

ğŸ†• å·²æ”¯æŒæµè§ˆå™¨é©±åŠ¨è‡ªåŠ¨å®‰è£…

## ğŸš€ è¿è¡Œ

### å®‰è£…ä¾èµ–

```shell
pip install -r requirements.txt
```

### å‘½ä»¤è¡Œè¿è¡Œ:

1. è¿›å…¥ po ç›®å½•ä¸‹
    ```shell
    cd po
    ```
2. å‘½ä»¤è¡Œè¿è¡Œè§„åˆ™: python è¿è¡Œæ–‡ä»¶ æµ‹è¯•ç”¨ä¾‹ç›®å½•å

    ```shell
    # æ‰§è¡Œå…¨éƒ¨ç”¨ä¾‹ç±»çš„å…¨éƒ¨ç”¨ä¾‹å‡½æ•°
    python run_all.py baidu
    ```

    ```shell
    # æ‰§è¡ŒæŒ‡å®šç”¨ä¾‹ç±»
    python run_class.py baidu
    ```

    ```shell
    # æ‰§è¡ŒæŒ‡å®šç±»ä¸­çš„æŒ‡å®šå‡½æ•°
    python run_function.py baidu
    ```

### pycahrmè¿è¡Œ:

1. æŒ‡å®šæµ‹è¯•è¿è¡Œç¨‹åºä¸º: Unittest

   ![](md_files/img.png)


2. è¿è¡Œæ–‡ä»¶é¼ æ ‡å³é”®,é€‰æ‹©ä¿®æ”¹è¿è¡Œé…ç½®

   ![](md_files/img_1.png)


3. é…ç½®å‚æ•°: æµ‹è¯•ç”¨ä¾‹ç›®å½•å

   ![](md_files/img_2.png)

## ğŸ–¼ï¸ æ•ˆæœå›¾

**pycharmæ§åˆ¶å°:**

![](md_files/img_4.png)

**æ—¥å¿—æ•ˆæœ:**

![](md_files/img_5.png)

**HTML æµ‹è¯•æŠ¥å‘Šï¼ˆè‡ªå®šä¹‰ï¼‰**

![](md_files/img_6.png)

**è‡ªåŠ¨æˆªå–é”™è¯¯æˆªå›¾**

![](md_files/img_7.png)

**BeautifulReport æµ‹è¯•æŠ¥å‘Šï¼ˆåŸç”Ÿç¬¬ä¸‰æ–¹ï¼‰**

![](md_files/img_3.png)
