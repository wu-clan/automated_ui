# unittest UIè‡ªåŠ¨åŒ–æµ‹è¯•

## ğŸ“‹ åŠŸèƒ½æ¦‚è¿°
* é‡‡ç”¨POæ¨¡å¼ç¼–å†™
* å¯¹webdriverå¸¸ç”¨æ–¹æ³•äºŒæ¬¡å°è£…ï¼Œå¹¶å¢åŠ æ—¥å¿—è®°å½•
* æ”¯æŒæµ‹è¯•å®Œæˆåï¼Œè‡ªåŠ¨å‘é€é‚®ä»¶
* æ”¯æŒchromeï¼ŒFirefoxï¼ŒIEæµè§ˆå™¨
* æ•°æ®åº“ mysql çº¿ç¨‹æ± 
* å¯ä½¿ç”¨ excelï¼Œyaml è§„æ•´å®šä½å…ƒç´ 
* å°è£… unittest è¿è¡Œæ–¹å¼
* beautifulreport æˆ– HtmlTestrunner æµ‹è¯•æŠ¥å‘Š

## ğŸŒ´ é¡¹ç›®ç»“æ„ä»‹ç»
```
automated_unittest
    |
    â”œâ”€ po
    â”‚   â”‚
    â”‚   â”œâ”€ common
    â”‚   â”‚    | base_page        å°è£…å¸¸ç”¨çš„å…ƒç´ å®šä½æ–¹æ³•
    â”‚   â”‚    â”‚ doexcel.py       excelæ–‡ä»¶è¯»å–
    â”‚   |    | doyaml.py        yamlæ–‡ä»¶è¯»å†™
    â”‚   â”‚    â”‚ driver.py        å°è£…å®ä¾‹åŒ–æ‰€æœ‰æµè§ˆå™¨é©±åŠ¨
    â”‚   â”‚    â”‚ log.py           ç”Ÿæˆè®°å½•æ—¥å¿—
    â”‚   â”‚    â”‚ send_mail.py     å‘é€é‚®ä»¶
    â”‚   â”‚    â”‚ myunit.py        å°è£…å•å…ƒæµ‹è¯•ä¾èµ–
    â”‚   â”‚    â”‚ test_report.py   å°è£…æµ‹è¯•æŠ¥å‘Šæ–¹æ³•
    â”‚   â”‚
    â”‚   â”œâ”€ core
    â”‚   â”‚    â”œâ”€ config.yaml     é…ç½®æ–‡ä»¶
    |   |    â”œâ”€ get_conf.py     è¯»å–é…ç½®
    â”‚   â”‚    â””â”€ path_conf.py    ç›¸å…³è·¯å¾„é…ç½®
    â”‚   â”‚
    â”‚   â”œâ”€ data                 
    â”‚   â”‚   â””â”€test_data         
    â”‚   |        â”œâ”€ *.yaml      å­˜æ”¾æµ‹è¯•å…ƒç´ æ•°æ®
    â”‚   â”‚        â””â”€ *.xlsx      å­˜æ”¾æµ‹è¯•å…ƒç´ æ•°æ®
    â”‚   â”‚ 
    â”‚   â”œâ”€ packages              
    â”‚   |    | TestRunner       æµ‹è¯•æŠ¥å‘Š(HTML)
    â”‚   | 
    â”‚   â”œâ”€ report               
    â”‚   â”‚    â”œâ”€ image           æˆªå›¾å­˜æ”¾ç›®å½•
    â”‚   |    |    â”œâ”€ fail       å¤±è´¥æˆªå›¾
    â”‚   |    |    â””â”€ pass       æˆåŠŸæˆªå›¾
    â”‚   â”‚    â”œâ”€ log             logæ—¥å¿—
    â”‚   â”‚    â””â”€ test_report     æµ‹è¯•æŠ¥å‘Š
    â”‚   â”‚
    â”‚   â”œâ”€ testcase             
    â”‚   â”‚    â””â”€ *               æµ‹è¯•é¡¹ç›®ç›®å½•
    â”‚   â”‚       â”œâ”€ *_page       æµ‹è¯•ç”¨ä¾‹ç±»æ¶‰åŠçš„å…ƒç´ æˆ–é€šç”¨æ“ä½œå°è£…
    â”‚   |       â””â”€ test_*.py    æµ‹è¯•ç”¨ä¾‹
    â”‚   |
    â”‚   â”œâ”€ utils                 
    â”‚   |    |  file_operations.py  æ–‡ä»¶ä¸Šä¼ 
    â”‚   |    â””â”€ key_board.py    é”®ç›˜æ“ä½œ
    â”‚   |
    â”‚   â”œâ”€ run_all.py           è¿è¡Œå…¨éƒ¨ç”¨ä¾‹
    â”‚   â”œâ”€ run_class.py         è¿è¡Œå•ä¸ªç±»æ–‡ä»¶æ‰€æœ‰ç”¨ä¾‹
    â”‚   â”œâ”€ run_function.py      è¿è¡Œå•ä¸ªæ–¹æ³•ç”¨ä¾‹
    |
    â””â”€ requirements.txt         ä¾èµ–åŒ…
```

## ğŸ‘¨â€ğŸ’» ç¯å¢ƒå‡†å¤‡

è°·æ­Œé©±åŠ¨ä¸ºä¾‹:

1. è¿›å…¥è°·æ­Œæµè§ˆå™¨,ç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹,æŸ¥çœ‹è°·æ­Œæµè§ˆå™¨ç‰ˆæœ¬
![](md_files/img_google.png)


2. ä¸‹è½½è°·æ­Œæµè§ˆå™¨å¯¹åº”ç‰ˆæœ¬å·çš„é©±åŠ¨ â¡ [chromedriver](http://npm.taobao.org/mirrors/chromedriver/)


3. å°†ä¸‹è½½çš„é©±åŠ¨è§£å‹,æ”¾åˆ°"å®‰è£…pythonçš„æ ¹ç›®å½•"


## ğŸš€ è¿è¡Œæ–¹æ³•

### å®‰è£…ä¾èµ–
```shell
pip install -r requirements.txt
```

### å‘½ä»¤è¡Œè¿è¡Œ:
```text
1: è¿›å…¥ po/ ç›®å½•ä¸‹
2: å‘½ä»¤è¡Œå‚æ•°é…ç½®: python è¿è¡Œæ–‡ä»¶ æµ‹è¯•ç”¨ä¾‹ç›®å½•å
   for demo:
       python run_all.py baidu  # æ‰§è¡Œå…¨éƒ¨ç”¨ä¾‹ç±»çš„å…¨éƒ¨ç”¨ä¾‹å‡½æ•°
       python run_class.py baidu  # æ‰§è¡ŒæŒ‡å®šç”¨ä¾‹ç±»
       python run_function.py baidu  # æ‰§è¡ŒæŒ‡å®šç±»ä¸­çš„æŒ‡å®šå‡½æ•°
```

### pycahrmè¿è¡Œ:

1. æŒ‡å®šæµ‹è¯•è¿è¡Œç¨‹åºä¸º: Unittest

![](md_files/img.png)

2. è¿è¡Œæ–‡ä»¶é¼ æ ‡å³é”®,é€‰æ‹©å¦‚å›¾æ‰€ç¤º

![](md_files/img_1.png)

3. é…ç½®å‚æ•°: æµ‹è¯•ç”¨ä¾‹ç›®å½•å

![](md_files/img_2.png)


## ğŸ–¼ï¸ æ•ˆæœå›¾

pycharmæ§åˆ¶å°:
![](md_files/img_4.png)

æ—¥å¿—æ•ˆæœï¼š
![](md_files/img_5.png)

HTML æµ‹è¯•æŠ¥å‘Šï¼ˆå¯åœ¨ packages/TestRunner ç›®å½•ä¸‹è‡ªè¡Œä¿®æ”¹æ ·å¼ç­‰...ï¼‰
![](md_files/img_6.png)

è‡ªåŠ¨æˆªå–é”™è¯¯æˆªå›¾
![](md_files/img_7.png)

BeautifulReport æµ‹è¯•æŠ¥å‘Šï¼ˆåŸç”Ÿç¬¬ä¸‰æ–¹ï¼‰
![](md_files/img_3.png)
